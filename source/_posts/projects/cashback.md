---
title: 返现业务逻辑
date: 2021-02-27
---
返现逻辑。
<!--more-->

# 大致流程
## 管理员
流程： 管理页面入口-配置商品的返现规则-用密码保存
1. 从给定的URL进入，url部分包括账号和密码，正确才能进入
2. 展示已有的返现规则，表格形式，可以新增、删除、编辑
3. 保存按钮需要重新输入密码

## 用户
流程：用户页面入口-输入订单-确定-返回成功返现或错误信息
1. 用户入口进入后，只有一个订单输入框，一个确定按钮
2. 确定后返回成功，或失败的原因。

# 业务规则

1. 一个商品只能有一个规则
2. 无规则不返现
3. 订单不匹配不返现
4. 订单只能返现一次
5. 规则种类：固定、比例
6. `固定`的参数：安卓固定金额(aFix)、苹果固定金额(iFix)
7. `比例`的参数：安卓比例(aRate)、苹果比例(iRate)
8. 固定金额(fixCashback)=安卓或苹果的固定金额
9. 比例金额(rateCashback)=aRate\*订单金额 或 iRate\*订单金额


