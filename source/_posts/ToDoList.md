---
title: TODO

---
### 长期计划
1. 智能化测试
2. 算法
3. 



### 定时任务
【每周四】uSupply自动化总览


### 近期任务

| DDL | 事件 | 状态 |
|--|--|--|
|  |  |  |
| 8.6 | [解决能读问题]仿rp读取日志,做聚类解析 | 还剩界面了 |
|  |  |  |
|  |  |  |



### Done

| 时间 | 事件 | 状态 |
|--|--|--|
| 04-27 | 任职资格 | done |
| 04-27 | hadoop参数研读 | done |
| 05-03 | yarn参数、mapred参数调整完成 | done快了20% |
| 05-03| Hive on Spark on Yarn | done，但写入hive很慢 |
| 05-08 | CCO RF执行修复 | 已经跑起来了 |
| 05-09 | Kafka简单使用 | 已完成，10号已发笔记 |
| 05-08 | CCO Mock-杨志伟 | 放弃 |
| 05-11 | CCO 解决方案自动化-姣姣邮件 | 无限期延后 |
| 05-18 | Spart_Analysis_DC | 后期正式是代码问题 |
| 05-11 | hadoop参数 尝试 | 放弃，因为项目用FusionInsight |
| 05-09 | TFS使用总结文档 | 晓强搞定 |
| 05-21 | 智能化测试 | kafka-registry-schema-avro 例子 |
| 05-25 | flume + kafka | 已发日志 |
| 05-28 | RF黑科技 系列 | 凤凰学院7篇 |
| ?? | Hive on Spark on Yarn优化 | prewarn，看hive-tez配置；beeline执行sql启动会不会快点;spark动态觉得并行度;spark 写hive有时候很慢。放弃 |
| 06-12 | ai-test | 存储格式
| 6-13 | ai test 头脑风暴 | done |
| 06-15| PageObject | 不写了 |
| 06-15 | 环境数据库收集 | 【有空再说】 |
| 06-15 | eops单 | 【有空再说】 |
| 06-22 | 测试结果分析新计划 | 已刷新 |
| 06-25 | CCO自动化用例，添加收货地址 | 6个 |
| 06-26 | CCO自动化用例地址用例写完 | 共13个 |
| 06-27 | 测试日志智能化分析 | 完成结构化数据存表 |
| 06-28 | 测试日志智能化分析 | RF解析完毕 |
| 06-28 | 学习**Axure** | 不用了 |
| 07-20 | 整理ReportPortal材料, 发TSEG | 下午收集 |
| 07-20 | azkaban独立部署的问题, 还搞不搞? 申请周末加班 | 搞,加.hdfs，hive,azkban完成 |
| 07-23 | 阅读ReportPortal代码 | done|
| 07-23 | 传递自动化迁移的方向,探讨可行性. 邮件转达 | 早上9点, 放弃 |
| 07-23 | RCM自动化要不要在A3重搞 | 早上10.30, 还在自动化环境搞 |
| 07-31 | Hexo-mermaid,开启  | 在家搞定了 |
| 07-30 | agent-python-RobotFramework | 1 launch=1 suite = 1 case |
| 08-06~09 | CCO, restAPI的fuzzing | done |
| 0-1 | azkaban应用独立机器 | 验证完毕,等德用部署
| 08-26 | ReportPortal-service-api修改编译部署 | 改maven |
| 8.3 | hoc云龙 | 不搞了 |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |

#### leetcode
| 时间 | 事件 | 状态 |
|--|--|--|
| 05-28 | twoSum | ok |
| 05-29 | threeSum |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  |  |

```java
public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> result = new ArrayList<>();
        Arrays.sort(nums);
        int len = nums.length;
        if (len < 3) return result;
        for (int i = 0; i < len - 2; i++) {
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            for (int j = i + 1; j < len - 1; j++) {
                if (j > i+1 && nums[j] == nums[j - 1]) continue;
                int k = Arrays.binarySearch(nums, j + 1, len, -nums[i] - nums[j]);
                if (k > 0 && nums[i] + nums[j] + nums[k] == 0) {
                    ArrayList<Integer> tmp = new ArrayList<>(3);
                    tmp.add(nums[i]);
                    tmp.add(nums[j]);
                    tmp.add(nums[k]);
                    result.add(tmp);
                }
            }
        }
        return result;
    }
```


## 临时

问了下黎智宽的意见，有一些建议和结论：
1. 怎么区分API还是GUI？
业务逻辑在js端就写GUI，在java端就写API；
实现成本：如在GUI只有一两个点击，而API很复杂，多个接口调用，则应写在GUI层。
2. CCO自动化现在怎么搞？
【单元测试】vuejs的单元测试框架。测试学会，review开发的单元测试。
【接口测试】都可以
【GUI】环境稳定，页面少改动
【mock】智宽还是推荐我们用mock，自动化的时候自己玩；
3. 结论
我建议还是按照我们讨论的结果来走。
单元测试由我去学一下，看下开发的js质量。
mock的话，你们的看法怎么样？（智宽毕竟在局外可能不够清楚）

## 头脑风暴——发现你的AI场景
【报名截止】6月13日下班前
【时间】6月15日周五下午
【与会人】AI测试感兴趣的人，想做出点尝试
【前提】
- 思考当前工作中重复低效率的任务
- 从听说的AI实践脑洞大开想到能否“迁移”到测试动作

【形式】
- 第一轮：准备主题便签，发散讨论 5mins/主题，不评论。限制1小时
- 第二轮：将上轮主题归类，再集中讨论 10mins/主题。限制0.5小时
- 场景Owner竞选

 
PS：
1. AI测试：本次讨论将AI应用到测试中，而非如何测试AI功能
2. 仅限对AI测试感兴趣者，每个Line最多2人参与，不设下限


## 2018-06-13早上谈话记录
### AI测试
想象自己是“AI测试”的产品经理，对它从生到死负责，立项、计划、运作、技术、呈现、运维一条龙。
### 技术众筹
一个技术方向，找人一起搞完


1. flume采集应用日志
2. kafka信息集成
3. 解析协议自动化和RF执行日志，存入部门统一的智能化分析
4. 解析协议自动化和RF执行结果，存入部门统一的质量看板
5. 简单统计


## 阿萨德f
1. 【05-20完成】目录下所有历史日志（递归地）；不断增长未经全面测试（已调通）
2. 【06-01完成】kafka可以完成实时采集
3. 【七月中】RF与协议自动化结果，清洗提取
4. 【七月底】RF与协议自动化日志，清洗提取
5. 【08-10】

# AI在测试工作的应用场景
## ①自动生成用例
owner：罗人源+王志坤
1. 自动单元测试
2. AI录制
3. 需求变更时，智能修复失败的自动化

## ②用例管理
1. 自动场景分类
2. 用例中，业务数据自动关联修改

## ③交付与风险
owner：黎智宽
1. 过程数据收集
2. 版本质量、风险预测
3. FP版本质量分析与预警，人员、风险
4. 问题单智能分类


## ⑤运营
owner：胡建华
1. 分析操作热点，提升易用性
2. 分析热点功能，定制测试策略

## ⑥问答系统
owner：粟烂芝
1. LMT问答，历史问题咨询与解决方案

## ⑦精准测试
owner：罗皓
1. 多次代码修改定位用例
2. 结合测试结果

## ⑧测试结果分析
owner：吴健松
1. 自动化结果聚类、分类
2. 人工标定结果滚动更新模型



## 年中PBC
自评综述*请基于PBC完成情况及岗位职责履行情况进行客观自我总结，建议字数不超过500字
总体目标：
	1. 业务能力有所提升，对CCO、xcube项目熟知各大模块、核心功能和基本操作。
	2. 继续广泛地熟悉业界其他通用的测试工具，学习其使用场景。
	3. 在xcube项目中学习并应用自动化运维与监控技术，在底层组件自运营时担任核心角色，自动化地完成运维动作提升效率100%以上。
主要目标：
	1. 引进GUI测试中的PageObject设计思想，应用到cco自动化中，提升50%的编写效率。
	2. 测试结果智能分析中，已经完成了RF的结果解析，结构化存储。并额外地完成了整体方案设计及通用存储接口，拉到伙伴方伟一起完成。其中统计聚类和预测稳定性等功能延后到下半年完成。
	3. Hadoop大数据集群的自动化运维与监控已经实现，使用zabbix作为监控及触发平台，编写ansible与shell脚本在Jenkins上触发，日常95%以上的运维动作都是自助式的。
	4. 解决方案测试自动化完成情况不理想，CCO的长业务流程的自动化由ISC+完成。华荣与我提出将流程切割，系统之间两两先验证接口是否满足契约。这样可以避免由于上游系统故障导致下游拉通阻塞的情况，加快整体进度。具体尝试将会在下半年开展。
个人总结：
	1. 自动化运维与监控技能：在xcube项目中得到大量锻炼，同时对hadoop+大数据组件有了较为深刻的理解。
	2. 测试结果智能分析：被选为AI测试的其中一项重点工作，当前进度正常偏慢一点点，能将所学与实际工作结合在一起真是太好了。
	3. 业务能力在自动化实现的过程中得到的潜移默化地提升。

## ReportPortal
### 第三方服务
mongodb: 存储
registry: consul 分布式系统的服务发现与配置
gateway: traefik HTTP层面的反向代理和负载均衡, 用Go编写
elasticsearch: 日志存储, 相似度计算
### ReportPortal自身模块
jira: reportportal/service-jira, 对接jira
rally: reportportal/service-rally, 对接CA Agile Central(rally) 缺陷跟踪工具
uat: reportportal/service-authorization, 统一鉴权服务, 依赖MongoDB
index: reportportal/service-index, 其他服务不处理的请求, 整合UI所需的信息
api: reportportal/service-api, 核心, 处理UI和agent的请求
ui: reportportal/service-ui, React写的前端工程
analyzer: reportportal/service-analyzer, 用例日志存储与搜索; 自动分析

# Tony关于智能化测试的听后感
## DevOps下测试的出路
### 底层测试为王
快节奏-DevOps-保证质量-快速充足测试-单元测试
业界制胜的法宝是白盒的单元测试:
1. 发布节奏更快 
2. 需求变化更快

测试人员的出路:
- 三分之一转开发: 互授技能(多次建议我们要学写白盒的单元测试, 万一转了开发)
- 三分之一高精尖: 发散测试/解决方案/DFX等
- 三分之一跳槽....

### 个人见解:<巨变将至>
如果按照DevOps的速度还要兼顾软件质量, 会融合部分测试扩展开发人力, 将单元测试纳入考核指标. 以单元测试覆盖率作为版本质量最根本的标准.

## 智能化研发
### Data Intelligent就能解决80%的问题, 剩下20%中AI可以解决一部分.
Tony参考VSTS基于JADE的理念, 提出研发流程端到端如果应用DI/AI的一套方法论, 其流程涵盖了用户提出的需求/设计/开发/测试等. 亮点在于使用同一领域的语言JADL, 所有研发资产(文档/代码/脚本)数字化并提供智能化提示, 一切都是自适应的.
肉眼可见的好处:
1. 同一领域语言, 去除沟通障碍, 统一测试用例(一个用例可以在任意框架, 不同环境中使用)
2. 研发资产数字化后可以轻易获得类似方案的设计文档, 相关用例的描述文档
3. 全体统一工作平台, 上下游的关系天然存在, 较少沟通成本, 明显看出进度瓶颈
### 个人见解:<研发资产统一数字化>
按Tony说法, 只是尝试了30%不到, 举例能大规模实用还很远, 如果能做出来能领先业界. 部门内不可能达成此愿景, 唯一能做的是往此处靠拢. 如: 切换TFS后用例写作强行规定格式, 日后可以批量转化导出为统一描述; 测试过程动作全程数字化, 为全连接后的DI和AI准备好充足的数据.


## 智能化测试
### 测试三板斧
测试动作无非就是: 测试设计-测试执行-测试分析
其中每个部分都可以赋予智能化, 最早能用上AI的是最早数字化的动作.
比如测试结果智能洞察的工作, 90%的工作都在"如果将测试结果归一化存储"
### 个人见解:<借AI的风做DI的事情>

## 云化测试
这部分纯靠记忆未看笔记, 都是个人的看法
### 快速环境
依赖链: 快速发布-快速验证-快速部署-快速环境
微服务+容器->应用可以快速发布
依赖其他应用->容器可以快速上应用, 数据库能否同样快速申请和复原?
数据库能否也像git, 镜像一下, 做个分支, 验证完成后销毁分支

### 日志收集
日志也是上述数字化资产的一个部分, 容器化后日志支离破碎到处都是, 继续一个整理归一的平台. 
需要做到以下几点:
1. 打印规范, 至少部门内要统一
2. 服务器(容器)的日期要统一经由NTP定时
3. 持久化一段时间(一年)
4. 快速检索

